<!DOCTYPE html>
<html>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
<style type="text/css">
  html { height: 100% }
  body { height: 100%; margin: 0; padding: 0 }
  #map_canvas { height: 100% }
</style>
<script type="text/javascript"
    src="http://maps.googleapis.com/maps/api/js?sensor=true">
</script>
<script type="text/javascript">


var infos, initialize, markers;
markers = [];
initialize = function() {
  var addMarker, latlng, map, myOptions, points, x, _i, _len, _results;
  latlng = new google.maps.LatLng(39.51697, -119.81543);
  myOptions = {
    zoom: 14,
    center: latlng,
    mapTypeId: google.maps.MapTypeId.HYBRID
  };
  map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
  google.maps.event.addListener(map, 'click', function() {
    return console.log('clicked');
  });
  google.maps.event.addListener(map, 'rightclick', function(event) {
    console.log('right clicked');
    return console.log('points.length =' + String(points.length));
  });
  points = [
    {
      "county": "WASHOE",
      "id": "865",
      "latitude": 39.500010000000003,
      "longform": "237 LINDEN ST",
      "longitude": -119.79511100000001,
      "modified": "2011-10-15T16:07:44.891129",
      "municipality": "RENO",
      "number": 237,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/865/",
      "state": "NV",
      "street": "LINDEN",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "170",
      "latitude": 39.500048,
      "longform": "2250 KOLDEWEY DR",
      "longitude": -119.83842199999999,
      "modified": "2011-10-15T16:07:44.361850",
      "municipality": "RENO",
      "number": 2250,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/170/",
      "state": "NV",
      "street": "KOLDEWEY",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "DR",
      "unit": "",
      "zip4": null,
      "zip_code": 89509
    }, {
      "county": "WASHOE",
      "id": "581",
      "latitude": 39.500056999999998,
      "longform": "755 SKYLINE BLVD",
      "longitude": -119.822973,
      "modified": "2011-10-15T16:07:44.682045",
      "municipality": "RENO",
      "number": 755,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/581/",
      "state": "NV",
      "street": "SKYLINE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "BLVD",
      "unit": "",
      "zip4": null,
      "zip_code": 89509
    }, {
      "county": "WASHOE",
      "id": "917",
      "latitude": 39.500179000000003,
      "longform": "2100 HELLABY LN",
      "longitude": -119.748543,
      "modified": "2011-10-15T16:07:44.928797",
      "municipality": "RENO",
      "number": 2100,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/917/",
      "state": "NV",
      "street": "HELLABY",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "LN",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "111",
      "latitude": 39.500342000000003,
      "longform": "2450 LYMBERY ST",
      "longitude": -119.80336800000001,
      "modified": "2011-10-15T16:07:44.310494",
      "municipality": "RENO",
      "number": 2450,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/111/",
      "state": "NV",
      "street": "LYMBERY",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89509
    }, {
      "county": "WASHOE",
      "id": "985",
      "latitude": 39.500391,
      "longform": "2450 LYMBERY ST",
      "longitude": -119.80327699999999,
      "modified": "2011-10-15T16:07:44.978934",
      "municipality": "RENO",
      "number": 2450,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/985/",
      "state": "NV",
      "street": "LYMBERY",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89509
    }, {
      "county": "WASHOE",
      "id": "283",
      "latitude": 39.500512999999998,
      "longform": "446 GROVE ST",
      "longitude": -119.791753,
      "modified": "2011-10-15T16:07:44.455240",
      "municipality": "RENO",
      "number": 446,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/283/",
      "state": "NV",
      "street": "GROVE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "337",
      "latitude": 39.500753000000003,
      "longform": "2450 LYMBERY ST",
      "longitude": -119.803192,
      "modified": "2011-10-15T16:07:44.494153",
      "municipality": "RENO",
      "number": 2450,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/337/",
      "state": "NV",
      "street": "LYMBERY",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89509
    }, {
      "county": "WASHOE",
      "id": "443",
      "latitude": 39.500852000000002,
      "longform": "2450 LYMBERY ST",
      "longitude": -119.803129,
      "modified": "2011-10-15T16:07:44.571248",
      "municipality": "RENO",
      "number": 2450,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/443/",
      "state": "NV",
      "street": "LYMBERY",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89509
    }, {
      "county": "WASHOE",
      "id": "340",
      "latitude": 39.501058,
      "longform": "197 GROVE ST",
      "longitude": -119.79668700000001,
      "modified": "2011-10-15T16:07:44.496377",
      "municipality": "RENO",
      "number": 197,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/340/",
      "state": "NV",
      "street": "GROVE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "715",
      "latitude": 39.501067999999997,
      "longform": "175 GROVE ST",
      "longitude": -119.796913,
      "modified": "2011-10-15T16:07:44.781609",
      "municipality": "RENO",
      "number": 175,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/715/",
      "state": "NV",
      "street": "GROVE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "716",
      "latitude": 39.501067999999997,
      "longform": "175 GROVE ST",
      "longitude": -119.796913,
      "modified": "2011-10-15T16:07:44.782336",
      "municipality": "RENO",
      "number": 175,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/716/",
      "state": "NV",
      "street": "GROVE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "855",
      "latitude": 39.501159000000001,
      "longform": "2490 WRONDEL WAY",
      "longitude": -119.795981,
      "modified": "2011-10-15T16:07:44.883872",
      "municipality": "RENO",
      "number": 2490,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/855/",
      "state": "NV",
      "street": "WRONDEL",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "WAY",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "285",
      "latitude": 39.501289,
      "longform": "2305 KIETZKE LN",
      "longitude": -119.78942600000001,
      "modified": "2011-10-15T16:07:44.456705",
      "municipality": "RENO",
      "number": 2305,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/285/",
      "state": "NV",
      "street": "KIETZKE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "LN",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "503",
      "latitude": 39.501356999999999,
      "longform": "2305 KIETZKE LN",
      "longitude": -119.790324,
      "modified": "2011-10-15T16:07:44.616353",
      "municipality": "RENO",
      "number": 2305,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/503/",
      "state": "NV",
      "street": "KIETZKE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "LN",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "102",
      "latitude": 39.501358000000003,
      "longform": "197 GROVE ST",
      "longitude": -119.79678199999999,
      "modified": "2011-10-15T16:07:44.302709",
      "municipality": "RENO",
      "number": 197,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/102/",
      "state": "NV",
      "street": "GROVE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "108",
      "latitude": 39.501358000000003,
      "longform": "175 GROVE ST",
      "longitude": -119.797172,
      "modified": "2011-10-15T16:07:44.307937",
      "municipality": "RENO",
      "number": 175,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/108/",
      "state": "NV",
      "street": "GROVE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "452",
      "latitude": 39.501368999999997,
      "longform": "197 GROVE ST",
      "longitude": -119.79668700000001,
      "modified": "2011-10-15T16:07:44.578837",
      "municipality": "RENO",
      "number": 197,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/452/",
      "state": "NV",
      "street": "GROVE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "539",
      "latitude": 39.501372000000003,
      "longform": "685 GROVE ST",
      "longitude": -119.78645899999999,
      "modified": "2011-10-15T16:07:44.644958",
      "municipality": "RENO",
      "number": 685,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/539/",
      "state": "NV",
      "street": "GROVE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "ST",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }, {
      "county": "WASHOE",
      "id": "540",
      "latitude": 39.501410999999997,
      "longform": "2305 KIETZKE LN",
      "longitude": -119.790324,
      "modified": "2011-10-15T16:07:44.645891",
      "municipality": "RENO",
      "number": 2305,
      "number_suffix": "",
      "resource_uri": "/api/rawaddress/540/",
      "state": "NV",
      "street": "KIETZKE",
      "street_prefix": "",
      "street_suffix": "",
      "street_type": "LN",
      "unit": "",
      "zip4": null,
      "zip_code": 89502
    }
  ];
  addMarker = function(location) {
    var marker, position;
    console.log('adding a marker at: ' + location.longform);
    position = new google.maps.LatLng(location.latitude, location.longitude);
    console.log(position.lat + ' ' + position.lng);
    return marker = new google.maps.Marker({
      title: location.longform,
      content: location.longform,
      position: position,
      map: map,
      draggable: true,
      raiseOnDrag: true
    });
  };
  _results = [];
  for (_i = 0, _len = points.length; _i < _len; _i++) {
    x = points[_i];
    _results.push(addMarker(x));
  }
  return _results;
};
infos = [];

 // var infos = [];
 //   function initialize() {
 //     var latlng = new google.maps.LatLng(39.51697,-119.81543);
 //    var myOptions = {
 //    zoom: 16,
 //      center: latlng,
 //      mapTypeId: google.maps.MapTypeId.HYBRID
 //      };
 //      var map = new google.maps.Map(document.getElementById("map_canvas"),
 //         myOptions);
  // 
  // 	google.maps.event.addListener(map, 'click', function() {
  // 		console.log('clicked');
  // 		});
  // 	google.maps.event.addListener(map, 'rightclick', function(event) {
  // 		console.log('rightclicked');
  // 		addMarker(event.latLng);
  // 		//console.log(String(event.latLng));
  // 		});
  // 		
  	// function addMarker(location) {
  	//     		console.log('adding a marker');
  	//     		
  	//     		var title = 'This is the text for the markers tooltip on mouseover.';
  	//     		var html = '<div class="info">This HTML will be attached to the marker.</div>';
  	//     		
  	//     	  marker = new google.maps.Marker({
  	//     	  	title: title,
  	//     		content: String(location),
  	//     		position: location,
  	//     	    map: map,
  	//     		draggable : true,
  	//     		raiseOnDrag : true,
  	//     	  });
  // 		console.log(String(marker.position));
  // 		marker.setMap(map);
  // 	  // markersArray.push(marker);
  // 	
  // 		// var infiwindow = new google.maps.InfoWindow({
  // 		// 				content: String(marker.getPosition())
  // 		// 		});
  // 		
  // 		google.maps.event.addListener(marker, 'click', function() {
  // 
  // 		   /* close the previous info-window */
  // 		   closeInfos();
  // 
  // 		   /* the marker’s content gets attached to the info-window: */
  // 		   var info = new google.maps.InfoWindow({content: this.content});
  // 
  // 		   /* trigger the infobox’s open function */
  // 		   info.open(map,this);
  // 
  // 		   /* keep the handle, in order to close it on next click event */
  // 		   infos[0]=info;
  // 
  // 		});
  // 		
  // 		function closeInfos(){
  // 		   if(infos.length > 0){
  // 
  // 		      /* detach the info-window from the marker */
  // 		      infos[0].set("marker",null);
  // 
  // 		      /* and close it */
  // 		      infos[0].close();
  // 
  // 		      /* blank the array */
  // 		      infos.length = 0;
  // 		   }
  // 		}
  // 
  // 		// google.maps.event.addListener(marker,'mouseover',function(){
  // 		// 		console.log('got to open');
  // 		// 		setTimeout(function(){infiwindow.open(map,this);}, '600');
  // 		// 		// infiwindow.open(map,marker);
  // 		// 	});
  // 		// 
  // 		// 	google.maps.event.addListener(marker, 'drag', function(){
  // 		// 
  // 		// 		infiwindow.close(map,this);
  // 		// 
  // 		// 	});
  // 		// 
  // 		// 	google.maps.event.addListener(marker,'mouseout',function(){
  // 		// 
  // 		// 		setTimeout(function(){infiwindow.close(map,this);}, '200');
  // 		// 			});
  // 		// 
  // 		// 	google.maps.event.addListener(marker, 'dragend',function(){
  // 		// 		infiwindow.content = String(marker.getPosition()),
  // 		// 		marker.position = marker.getPosition(),
  // 		// 		infiwindow.close(map,this);
  // 		// 		infiwindow.open(map,this);
  // 		// 	});
  // 		// 
  // 		// 	function createIwindow () {
  // 		// 		console.log('got to create it');
  // 		// 		inifiwindow.open(map,marker);
  // 		// 	};
  // 	
  // 	}	
  // 	
  // 	// var marker = new google.maps.Marker({
  // 	// 	position: new google.maps.LatLng(39.51697,-119.81543),
  // 	// 	map: map,
  // 	// 	title: "greetings",
  // 	// 	draggable : true,
  // 	// 	raiseOnDrag : true,
  // 	// });
  // 	
  // 	
  // 	
  // 	
  //   }





</script>
</head>
<body onload="initialize()">
  <div id="map_canvas" style="width:100%; height:100%"></div>
</body>
</html>